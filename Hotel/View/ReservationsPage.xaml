<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Hotel.View.ReservationsPage">
    <CollectionView ItemsSource="{Binding Reservations}">
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Frame Margin="10" Padding="10" BorderColor="Gray">
                    <VerticalStackLayout>
                        <Label Text="{Binding MainPerson}" FontAttributes="Bold" FontSize="16" />
                        <Label>
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Room: " />
                                    <Span Text="{Binding RoomId}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label>
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Dates: " />
                                    <Span Text="{Binding StartDate, StringFormat='{0:d}'}" />
                                    <Span Text=" - " />
                                    <Span Text="{Binding EndDate, StringFormat='{0:d}'}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label>
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Contact: " />
                                    <Span Text="{Binding DecryptedContactInfo.Fio}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label>
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Phone: " />
                                    <Span Text="{Binding DecryptedContactInfo.Phone}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label>
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Email: " />
                                    <Span Text="{Binding DecryptedContactInfo.Email}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                    </VerticalStackLayout>
                </Frame>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>